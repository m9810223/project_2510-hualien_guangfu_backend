#!/usr/bin/env hurl --test --repeat 1 --variable backend_host=http://localhost:8000

# register
POST {{backend_host}}/api/v1/auth/register
{
  "email": "user@example.com",
  "password": "string",
  "is_active": true,
  "is_superuser": false,
  "is_verified": false
}
HTTP *
[Asserts]
status >= 200
status <= 400

# login
POST {{backend_host}}/api/v1/auth/jwt/login
content-type: application/x-www-form-urlencoded
`grant_type=password&username=user%40example.com&password=string`
HTTP 200
[Asserts]
jsonpath "$.token_type" == "bearer"
jsonpath "$.access_token" exists
[Captures]
access_token: jsonpath "$.access_token"
GET {{backend_host}}/api/v1/users/me
authorization: Bearer {{access_token}}
HTTP 200
[Asserts]
jsonpath "$.id" exists
jsonpath "$.email" exists
jsonpath "$.is_active" == true
jsonpath "$.is_superuser" == false
jsonpath "$.is_verified" == false


# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{

  "title": "æ°´é›»ä¿®ç¹•ï¼ˆé›»åŠ›æ¢å¾©ã€è‡¨æ™‚é…ç·šã€æ°´ç®¡é…ç®¡åŠåŒ–ç³æ± ç­‰ï¼‰ï¼š50å",
  "required_number_of_people": 50,
  "maximum_number_of_people": 50,

  "start_at": "2025-10-03T09:00:00+0800",
  "deadline": "2025-10-08T17:00:00+0800",

  "registration_location": "åœ°é»ï¼šèŠ±è“®ç¸£å…‰å¾©ç«è»Šç«™é–€å£(09:00é›†åˆï¼Œç”±èŠ±è“®ç¸£æ”¿åºœäººå“¡å¼•å°èˆ‡æ´¾å·¥)",
  "description": "å–®ä½ï¼šèŠ±è“®ç¸£æ”¿åºœè³‡è¨Šç§‘\nç¾éšæ®µéœ€è¦å…·å‚™å°ˆæ¥­æŠ€èƒ½çš„å¿—å·¥ï¼Œå”åŠ©å—ç½å®¶æˆ¶æ¢å¾©æ—¥å¸¸ç”Ÿæ´»\nğŸ“Œ æ³¨æ„äº‹é …\nè«‹æ”œå¸¶è‡ªè¡Œç”¨ä¹‹å·¥å…·ã€è¨­å‚™åŠç›¸é—œææ–™ï¼Œä¸¦æ³¨æ„è‡ªèº«å®‰å…¨ã€‚\nå› é…åˆç•¶åœ°æ•‘æ´è»Šè¼›å„ªå…ˆåŸå‰‡ï¼Œå¼·çƒˆå»ºè­°æ­ä¹˜ç«è»Šå‰å¾€ã€‚\nè‹¥é‡å¤©å€™æƒ¡åŒ–ï¼Œå°‡è¦–ç‹€æ³èª¿æ•´æˆ–æš«åœè¡Œç¨‹ã€‚",
  "contact_number": "ğŸ“å¿—å·¥è¯ç¹«å°ˆç·š\n0972223409\n0972223410 "
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200


# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{

  "title": "æˆ¿å±‹ä¿®ç¹•ï¼ˆæ³¥ä½œã€é–€çª—ä¿®è£œã€ç‰†é¢åŠåœ°æ¿ä¿®å¾©ï¼‰ï¼š50å",
  "required_number_of_people": 50,
  "maximum_number_of_people": 50,

  "start_at": "2025-10-03T09:00:00+0800",
  "deadline": "2025-10-08T17:00:00+0800",

  "registration_location": "åœ°é»ï¼šèŠ±è“®ç¸£å…‰å¾©ç«è»Šç«™é–€å£(09:00é›†åˆï¼Œç”±èŠ±è“®ç¸£æ”¿åºœäººå“¡å¼•å°èˆ‡æ´¾å·¥)",
  "description": "å–®ä½ï¼šèŠ±è“®ç¸£æ”¿åºœè³‡è¨Šç§‘\nç¾éšæ®µéœ€è¦å…·å‚™å°ˆæ¥­æŠ€èƒ½çš„å¿—å·¥ï¼Œå”åŠ©å—ç½å®¶æˆ¶æ¢å¾©æ—¥å¸¸ç”Ÿæ´»\nğŸ“Œ æ³¨æ„äº‹é …\nè«‹æ”œå¸¶è‡ªè¡Œç”¨ä¹‹å·¥å…·ã€è¨­å‚™åŠç›¸é—œææ–™ï¼Œä¸¦æ³¨æ„è‡ªèº«å®‰å…¨ã€‚\nå› é…åˆç•¶åœ°æ•‘æ´è»Šè¼›å„ªå…ˆåŸå‰‡ï¼Œå¼·çƒˆå»ºè­°æ­ä¹˜ç«è»Šå‰å¾€ã€‚\nè‹¥é‡å¤©å€™æƒ¡åŒ–ï¼Œå°‡è¦–ç‹€æ³èª¿æ•´æˆ–æš«åœè¡Œç¨‹ã€‚",
  "contact_number": "ğŸ“å¿—å·¥è¯ç¹«å°ˆç·š\n0972223409\n0972223410 "
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200


# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{

  "title": "æ©Ÿæ¢°ç¶­ä¿®ï¼ˆæŠ½æ°´æ©Ÿã€ç™¼é›»æ©ŸåŠå…¶ä»–æ©Ÿå…·ç¶­ä¿®ï¼‰ï¼š50å",
  "required_number_of_people": 50,
  "maximum_number_of_people": 50,

  "start_at": "2025-10-03T09:00:00+0800",
  "deadline": "2025-10-08T17:00:00+0800",

  "registration_location": "åœ°é»ï¼šèŠ±è“®ç¸£å…‰å¾©ç«è»Šç«™é–€å£(09:00é›†åˆï¼Œç”±èŠ±è“®ç¸£æ”¿åºœäººå“¡å¼•å°èˆ‡æ´¾å·¥)",
  "description": "å–®ä½ï¼šèŠ±è“®ç¸£æ”¿åºœè³‡è¨Šç§‘\nç¾éšæ®µéœ€è¦å…·å‚™å°ˆæ¥­æŠ€èƒ½çš„å¿—å·¥ï¼Œå”åŠ©å—ç½å®¶æˆ¶æ¢å¾©æ—¥å¸¸ç”Ÿæ´»\nğŸ“Œ æ³¨æ„äº‹é …\nè«‹æ”œå¸¶è‡ªè¡Œç”¨ä¹‹å·¥å…·ã€è¨­å‚™åŠç›¸é—œææ–™ï¼Œä¸¦æ³¨æ„è‡ªèº«å®‰å…¨ã€‚\nå› é…åˆç•¶åœ°æ•‘æ´è»Šè¼›å„ªå…ˆåŸå‰‡ï¼Œå¼·çƒˆå»ºè­°æ­ä¹˜ç«è»Šå‰å¾€ã€‚\nè‹¥é‡å¤©å€™æƒ¡åŒ–ï¼Œå°‡è¦–ç‹€æ³èª¿æ•´æˆ–æš«åœè¡Œç¨‹ã€‚",
  "contact_number": "ğŸ“å¿—å·¥è¯ç¹«å°ˆç·š\n0972223409\n0972223410 "
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200



# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{

  "title": "æ¸…æ½”æ©Ÿå…·æ“ä½œèˆ‡æ”¯æ´  (å¤§å‹æ¸…æƒè¨­å‚™æ“ä½œèˆ‡å”åŠ© ) ï¼š50å",
  "required_number_of_people": 50,
  "maximum_number_of_people": 50,

  "start_at": "2025-10-03T09:00:00+0800",
  "deadline": "2025-10-08T17:00:00+0800",

  "registration_location": "åœ°é»ï¼šèŠ±è“®ç¸£å…‰å¾©ç«è»Šç«™é–€å£(09:00é›†åˆï¼Œç”±èŠ±è“®ç¸£æ”¿åºœäººå“¡å¼•å°èˆ‡æ´¾å·¥)",
  "description": "å–®ä½ï¼šèŠ±è“®ç¸£æ”¿åºœè³‡è¨Šç§‘\nç¾éšæ®µéœ€è¦å…·å‚™å°ˆæ¥­æŠ€èƒ½çš„å¿—å·¥ï¼Œå”åŠ©å—ç½å®¶æˆ¶æ¢å¾©æ—¥å¸¸ç”Ÿæ´»\nğŸ“Œ æ³¨æ„äº‹é …\nè«‹æ”œå¸¶è‡ªè¡Œç”¨ä¹‹å·¥å…·ã€è¨­å‚™åŠç›¸é—œææ–™ï¼Œä¸¦æ³¨æ„è‡ªèº«å®‰å…¨ã€‚\nå› é…åˆç•¶åœ°æ•‘æ´è»Šè¼›å„ªå…ˆåŸå‰‡ï¼Œå¼·çƒˆå»ºè­°æ­ä¹˜ç«è»Šå‰å¾€ã€‚\nè‹¥é‡å¤©å€™æƒ¡åŒ–ï¼Œå°‡è¦–ç‹€æ³èª¿æ•´æˆ–æš«åœè¡Œç¨‹ã€‚",
  "contact_number": "ğŸ“å¿—å·¥è¯ç¹«å°ˆç·š\n0972223409\n0972223410 "
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200



# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{
  "description": "å¿—å·¥å–®ä½ï¼šèŠ±è“®ç¸£æ”¿åºœç¤¾æœƒè™•",
  "registration_location": "èŠ±è“®ç³–å» ",
  "contact_number": "0966-589-021",
  "title": "ç‰©è³‡éœ€æ±‚ï¼šæ¯›å·¾100æ¢ã€æŠ¹å¸ƒ100æ¢ã€å°åˆ·å­100æ”¯ã€æ°´ç®¡100æ¢ã€æ¸…æ½”æ‰‹å¥—100é›™"
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200



# creat task
POST {{backend_host}}/api/v1/task
authorization: Bearer {{access_token}}
{
  "registration_location": "èŠ±è“®ç¸£èŠ±è“®å¸‚åœ‹ç››å››è¡—88è™Ÿ",
  "contact_number": "0927139554",
  "title": "äººåŠ›éœ€æ±‚ï¼šè²¨è»Šã€å †é«˜æ©Ÿã€æ·±å…¥ç½å€æ¸…æ·¤å¿—å·¥å„50å",
  "description": "å‚™è¨»ï¼šè¦å…·å‚™è²¨è»Šã€å †é«˜æ©Ÿç­‰è¨­å‚™"
}
HTTP 200
[Captures]
task_id: jsonpath "$.id"
GET {{backend_host}}/api/v1/task/{{task_id}}
HTTP 200
